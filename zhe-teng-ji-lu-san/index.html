<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="折腾记录（三）, 技术"><meta name="description" content="折腾记录（三）由于最近openwrt抽风总link down，怀疑是固件问题，准备更换固件。之前配置的很多设置需要重新弄，特此记录。
Natv6Socat配置
防火墙配置
# This file is interpreted as shel"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><title>折腾记录（三） | Hairsky</title><link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/awesome/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/materialize/materialize.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/aos/aos.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/animate/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/css/matery.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/css/my.css"><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/jquery/jquery-3.6.0.min.js"></script><script src="https://v1.hitokoto.cn/?c=d&encode=js&select=%23hitokoto" defer></script><meta name="generator" content="Hexo 6.2.0"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="Hairsky" type="application/atom+xml"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/medias/logo.png" class="logo-img" alt="LOGO"> <span class="logo-span">Hairsky</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/galleries" class="waves-effect waves-light"><i class="fas fa-image" style="zoom:.6"></i> <span>相册</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/medias/logo.png" class="logo-img circle responsive-img"><div class="logo-name">Hairsky</div><div class="logo-desc">记录并分享技术</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/galleries" class="waves-effect waves-light"><i class="fa-fw fas fa-image"></i> 相册</a></li><li><div class="divider"></div></li><li><a href="https://github.com/L2DO" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/L2DO" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/cryptojs/crypto-js.min.js"></script><script>(function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();</script><div class="bg-cover pd-header post-cover" style="background-image:url(https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/medias/featureimages/29.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">折腾记录（三）</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{padding:35px 0 15px 17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{padding-bottom:30px;overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/openwrt/"><span class="chip bg-color">openwrt</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="post-category">服务器</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> 发布日期:&nbsp;&nbsp; 2022-07-12</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i> 文章字数:&nbsp;&nbsp; 817</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i> 阅读时长:&nbsp;&nbsp; 4 分</div></div></div><hr class="clearfix"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/prism/prism.min.css"><div class="card-content article-card-content"><div id="articleContent"><h1 id="折腾记录（三）"><a href="#折腾记录（三）" class="headerlink" title="折腾记录（三）"></a>折腾记录（三）</h1><p>由于最近openwrt抽风总link down，怀疑是固件问题，准备更换固件。之前配置的很多设置需要重新弄，特此记录。</p><h2 id="Natv6"><a href="#Natv6" class="headerlink" title="Natv6"></a>Natv6</h2><h2 id="Socat配置"><a href="#Socat配置" class="headerlink" title="Socat配置"></a>Socat配置</h2><p><img src="https://6.wangdinghan.xyz:8443/uploads/2022/07/12/62cd5967a37c1.png"></p><h2 id="防火墙配置"><a href="#防火墙配置" class="headerlink" title="防火墙配置"></a>防火墙配置</h2><p><img src="https://6.wangdinghan.xyz:8443/uploads/2022/07/12/62cd598c54a8c.png" alt="image-20220712192251091"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># This file is interpreted as shell script.</span>
<span class="token comment"># Put your custom iptables rules here, they will</span>
<span class="token comment"># be executed with each firewall (re-)start.</span>

<span class="token comment"># Internal uci firewall chains are flushed and recreated on reload, so</span>
<span class="token comment"># put custom rules into the root chains e.g. INPUT or FORWARD or into the</span>
<span class="token comment"># special user chains, e.g. input_wan_rule or postrouting_lan_rule.</span>
iptables -t nat -A PREROUTING -p udp --dport <span class="token number">53</span> -j REDIRECT --to-ports <span class="token number">53</span>
iptables -t nat -A PREROUTING -p tcp --dport <span class="token number">53</span> -j REDIRECT --to-ports <span class="token number">53</span>
<span class="token punctuation">[</span> -n <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">command</span> -v ip6tables<span class="token variable">)</span></span>"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> ip6tables -t nat -A PREROUTING -p udp --dport <span class="token number">53</span> -j REDIRECT --to-ports <span class="token number">53</span>
<span class="token punctuation">[</span> -n <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">command</span> -v ip6tables<span class="token variable">)</span></span>"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> ip6tables -t nat -A PREROUTING -p tcp --dport <span class="token number">53</span> -j REDIRECT --to-ports <span class="token number">53</span>

ip6tables -F
ip6tables -P INPUT ACCEPT
ip6tables -P FORWARD ACCEPT
ip6tables -P OUTPUT ACCEPT
ip6tables -t nat -A POSTROUTING -o pppoe-wan -j MASQUERADE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://6.wangdinghan.xyz:8443/uploads/2022/07/12/62cd59b2f126b.png" alt="image-20220712192329733"></p><p><img src="https://6.wangdinghan.xyz:8443/uploads/2022/07/12/62cd59da896f9.png" alt="image-20220712192409282"></p><h2 id="动态dns配置"><a href="#动态dns配置" class="headerlink" title="动态dns配置"></a>动态dns配置</h2><p><img src="https://6.wangdinghan.xyz:8443/uploads/2022/07/12/62cd5a14c026e.png" alt="image-20220712192507505"></p><p>df193c7011fb855e86e680840d92aebf308c6</p><p><img src="https://6.wangdinghan.xyz:8443/uploads/2022/07/12/62cd5a35c3bfa.png" alt="image-20220712192540520"></p><p><img src="https://6.wangdinghan.xyz:8443/uploads/2022/07/12/62cd5a4a8b15e.png" alt="image-20220712192601298"></p><p>/etc/ddns/getwanip</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">.</span> /lib/functions/network.sh
network_flush_cache
network_find_wan6 NET_IF6
network_get_ipaddr6 NET_ADDR6 <span class="token string">"<span class="token variable">${NET_IF6}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">${NET_ADDR6}</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Please consider creating files in /etc/nginx/conf.d/ instead of editing this.</span>
<span class="token comment"># For details see https://openwrt.org/docs/guide-user/services/webserver/nginx</span>
user root<span class="token punctuation">;</span>
events <span class="token punctuation">{</span><span class="token punctuation">}</span>
http <span class="token punctuation">{</span>
  access_log off<span class="token punctuation">;</span>
  log_format openwrt
     <span class="token string">'$request_method $scheme://$host$request_uri =&gt; $status'</span>
     <span class="token string">' (${body_bytes_sent}B in ${request_time}s) &lt;- $http_referer'</span><span class="token punctuation">;</span>

  include mime.types<span class="token punctuation">;</span>
  default_type application/octet-stream<span class="token punctuation">;</span>
  sendfile on<span class="token punctuation">;</span>
  client_max_body_size 128M<span class="token punctuation">;</span>
  large_client_header_buffers <span class="token number">2</span> 1k<span class="token punctuation">;</span>

  <span class="token function">gzip</span> on<span class="token punctuation">;</span>
  gzip_vary on<span class="token punctuation">;</span>
  gzip_proxied any<span class="token punctuation">;</span>
  root /www<span class="token punctuation">;</span>
  server<span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80<span class="token punctuation">;</span>
    server_name <span class="token number">192.168</span>.123.1<span class="token punctuation">;</span>
    charset UTF-8<span class="token punctuation">;</span>
    autoindex on<span class="token punctuation">;</span>
    location /cgi-bin/luci <span class="token punctuation">{</span>
        index  index.html<span class="token punctuation">;</span>
        include uwsgi_params<span class="token punctuation">;</span>
        uwsgi_param SERVER_ADDR <span class="token variable">$server_addr</span><span class="token punctuation">;</span>
        uwsgi_modifier1 <span class="token number">9</span><span class="token punctuation">;</span>
        uwsgi_pass unix:////var/run/luci-webui.socket<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     location ~ /cgi-bin/cgi-<span class="token punctuation">(</span>backup<span class="token operator">|</span>download<span class="token operator">|</span>upload<span class="token operator">|</span><span class="token builtin class-name">exec</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            include uwsgi_params<span class="token punctuation">;</span>
            uwsgi_param SERVER_ADDR <span class="token variable">$server_addr</span><span class="token punctuation">;</span>
            uwsgi_modifier1 <span class="token number">9</span><span class="token punctuation">;</span>
            uwsgi_pass unix:////var/run/luci-cgi_io.socket<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     location /luci-static <span class="token punctuation">{</span>
     <span class="token punctuation">}</span>
      location /ubus <span class="token punctuation">{</span>
            ubus_interpreter<span class="token punctuation">;</span>
            ubus_socket_path /var/run/ubus.sock<span class="token punctuation">;</span>
            ubus_parallel_req <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  server<span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80<span class="token punctuation">;</span>
    server_name <span class="token number">6</span>.wangdinghan.xyz<span class="token punctuation">;</span>
    <span class="token builtin class-name">return</span> <span class="token number">301</span> https://6.wangdinghan.xyz<span class="token variable">$request_uri</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

  server <span class="token punctuation">{</span>
    listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>
    listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:443 ssl<span class="token punctuation">;</span>
    server_name <span class="token number">6</span>.wangdinghan.xyz<span class="token punctuation">;</span>
    ssl_certificate /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.cer<span class="token punctuation">;</span>
    ssl_certificate_key /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.key<span class="token punctuation">;</span>
    ssl_session_cache shared:SSL:1m<span class="token punctuation">;</span>
    ssl_session_timeout 30m<span class="token punctuation">;</span>
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
    ssl_ciphers HIGH:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>EXPORT56:<span class="token operator">!</span>EXP<span class="token punctuation">;</span>
    ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
    proxy_connect_timeout <span class="token number">500</span><span class="token punctuation">;</span>
    proxy_send_timeout <span class="token number">500</span><span class="token punctuation">;</span>
    proxy_read_timeout <span class="token number">500</span><span class="token punctuation">;</span>
    client_max_body_size 10m<span class="token punctuation">;</span>
    charset UTF-8<span class="token punctuation">;</span>
    autoindex on<span class="token punctuation">;</span>
    location /cgi-bin/luci <span class="token punctuation">{</span>
        index  index.html<span class="token punctuation">;</span>
        include uwsgi_params<span class="token punctuation">;</span>
        uwsgi_param SERVER_ADDR <span class="token variable">$server_addr</span><span class="token punctuation">;</span>
        uwsgi_modifier1 <span class="token number">9</span><span class="token punctuation">;</span>
        uwsgi_pass unix:////var/run/luci-webui.socket<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     location ~ /cgi-bin/cgi-<span class="token punctuation">(</span>backup<span class="token operator">|</span>download<span class="token operator">|</span>upload<span class="token operator">|</span><span class="token builtin class-name">exec</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            include uwsgi_params<span class="token punctuation">;</span>
            uwsgi_param SERVER_ADDR <span class="token variable">$server_addr</span><span class="token punctuation">;</span>
            uwsgi_modifier1 <span class="token number">9</span><span class="token punctuation">;</span>
            uwsgi_pass unix:////var/run/luci-cgi_io.socket<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
          location /luci-static <span class="token punctuation">{</span>
     <span class="token punctuation">}</span>
      location /ubus <span class="token punctuation">{</span>
            ubus_interpreter<span class="token punctuation">;</span>
            ubus_socket_path /var/run/ubus.sock<span class="token punctuation">;</span>
            ubus_parallel_req <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   server <span class="token punctuation">{</span>
        listen <span class="token number">8443</span> ssl<span class="token punctuation">;</span>
        listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:8443 ssl<span class="token punctuation">;</span>
        server_name <span class="token number">6</span>.wangdinghan.xyz<span class="token punctuation">;</span>
        ssl_certificate /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.cer<span class="token punctuation">;</span>
        ssl_certificate_key /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.key<span class="token punctuation">;</span>
        ssl_session_cache shared:SSL:1m<span class="token punctuation">;</span>
        ssl_session_timeout 30m<span class="token punctuation">;</span>
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
        ssl_ciphers HIGH:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>EXPORT56:<span class="token operator">!</span>EXP<span class="token punctuation">;</span>
        ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
        proxy_connect_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        proxy_send_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        proxy_read_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        client_max_body_size 10m<span class="token punctuation">;</span>
        index index.php<span class="token punctuation">;</span>
        location / <span class="token punctuation">{</span>
                proxy_pass http://192.168.123.6:80<span class="token punctuation">;</span>
                proxy_set_header Host <span class="token variable">$host</span>:8443<span class="token punctuation">;</span>
                proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
                proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
                proxy_set_header X-Forwarded-Proto <span class="token variable">$scheme</span><span class="token punctuation">;</span>
                proxy_set_header REMOTE-HOST <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


   <span class="token punctuation">}</span>
   server <span class="token punctuation">{</span>
        listen <span class="token number">2096</span> ssl<span class="token punctuation">;</span>
        listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:2096 ssl<span class="token punctuation">;</span>
        server_name <span class="token number">6</span>.wangdinghan.xyz<span class="token punctuation">;</span>
        ssl_certificate /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.cer<span class="token punctuation">;</span>
        ssl_certificate_key /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.key<span class="token punctuation">;</span>
        ssl_session_cache shared:SSL:1m<span class="token punctuation">;</span>
        ssl_session_timeout 30m<span class="token punctuation">;</span>
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
        ssl_ciphers HIGH:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>EXPORT56:<span class="token operator">!</span>EXP<span class="token punctuation">;</span>
        ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
        proxy_connect_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        proxy_send_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        proxy_read_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        client_max_body_size 10m<span class="token punctuation">;</span>
        index index.php<span class="token punctuation">;</span>
        location / <span class="token punctuation">{</span>
                proxy_pass http://192.168.123.6:8096<span class="token punctuation">;</span>
                proxy_set_header Host <span class="token variable">$host</span>:2096<span class="token punctuation">;</span>
                proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
                proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
                proxy_set_header X-Forwarded-Proto <span class="token variable">$scheme</span><span class="token punctuation">;</span>
                proxy_set_header REMOTE-HOST <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


   <span class="token punctuation">}</span>
      server <span class="token punctuation">{</span>
        listen <span class="token number">2087</span> ssl<span class="token punctuation">;</span>
        listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:2087 ssl<span class="token punctuation">;</span>
        server_name <span class="token number">6</span>.wangdinghan.xyz<span class="token punctuation">;</span>
        ssl_certificate /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.cer<span class="token punctuation">;</span>
        ssl_certificate_key /root/.acme.sh/6.wangdinghan.xyz/6.wangdinghan.xyz.key<span class="token punctuation">;</span>
        ssl_session_cache shared:SSL:1m<span class="token punctuation">;</span>
        ssl_session_timeout 30m<span class="token punctuation">;</span>
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
        ssl_ciphers HIGH:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>EXPORT56:<span class="token operator">!</span>EXP<span class="token punctuation">;</span>
        ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
        proxy_connect_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        proxy_send_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        proxy_read_timeout <span class="token number">500</span><span class="token punctuation">;</span>
        client_max_body_size 10m<span class="token punctuation">;</span>
        charset UTF-8<span class="token punctuation">;</span>
        index index.html index.htm index.php<span class="token punctuation">;</span>
        location / <span class="token punctuation">{</span>
                proxy_pass http://192.168.123.10:5000<span class="token punctuation">;</span>
                proxy_set_header Host <span class="token variable">$host</span>:2087<span class="token punctuation">;</span>
                proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
                proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
                proxy_set_header X-Forwarded-Proto <span class="token variable">$scheme</span><span class="token punctuation">;</span>
                proxy_set_header REMOTE-HOST <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

   <span class="token punctuation">}</span>
   include config/*.conf<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>qm importdisk 103 /var/lib/vz/template/iso/openwrt-05.08.2022-x86-64-generic-squashfs-combined-efi.img local-lvm</p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者:</i></span> <span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">Hairsky</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接:</i></span> <span class="reprint-info"><a href="https://www.wangdinghan.xyz/zhe-teng-ji-lu-san/">https://www.wangdinghan.xyz/zhe-teng-ji-lu-san/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明:</i></span> <span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">Hairsky</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/openwrt/"><span class="chip bg-color">openwrt</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/share/js/social-share.min.js"></script></div></div></div></div></div><style>.valine-card{margin:1.5rem auto}.valine-card .card-content{padding:20px 20px 5px 20px}#vcomments textarea{box-sizing:border-box;background:url(/medias/comment_bg.png) 100% 100% no-repeat}#vcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem}#vcomments blockquote p{text-indent:.2rem}#vcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#vcomments img{max-width:100%;height:auto;cursor:pointer}#vcomments ol li{list-style-type:decimal}#vcomments ol,ul{display:block;padding-left:2em;word-spacing:.05rem}#vcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#vcomments ul li{list-style-type:disc}#vcomments ul ul li{list-style-type:circle}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#vcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#vcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#vcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#vcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#vcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#vcomments h6{font-size:1rem;line-height:1.3rem}#vcomments p{font-size:1rem;line-height:1.5rem}#vcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#vcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#vcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#vcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#vcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#vcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#vcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#vcomments b,strong{font-weight:700}#vcomments dfn{font-style:italic}#vcomments small{font-size:85%}#vcomments cite{font-style:normal}#vcomments mark{background-color:#fcf8e3;padding:.2em}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card valine-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="vcomments" class="card-content" style="display:grid"></div></div><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/valine/av-min.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/valine/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"oePiHHfC8ujKYK5zeETGSp9f-gzGzoHsz",appKey:"BlAVpxY6Mhsop8l840O6xPyS",notify:!1,verify:!1,visitor:!0,avatar:"monsterid",pageSize:"10",lang:"zh-cn",placeholder:"昵称填写qq可以现实qq头像和昵称哦~",enableQQ:!0,emojiCDN:"//i0.hdslb.com/bfs/emote/",emojiMaps:{tv_doge:"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_亲亲":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_偷笑":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_再见":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_冷漠":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_发怒":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_发财":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_可爱":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_吐血":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_呆":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_呕吐":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_困":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_坏笑":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_大佬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_大哭":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_委屈":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_害羞":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_尴尬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_微笑":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_思考":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_惊吓":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png","tv_打脸":"56ab10b624063e966bfcb76ea5dc4794d87dfd47.png","tv_抓狂":"fe31c08edad661d63762b04e17b8d5ae3c71a757.png","tv_抠鼻":"c666f55e88d471e51bbd9fab9bb308110824a6eb.png","tv_斜眼笑":"911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png","tv_无奈":"ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png","tv_晕":"5443c22b4d07fb1907ccc610c8e6db254f2461b7.png","tv_流汗":"cead1c351ab8d79e9f369605beb90148db0fbed3.png","tv_流泪":"7e71cde7858f0cd50d74b0264aa26db612a8a167.png","tv_流鼻血":"c32d39db2737f89b904ca32700d140a9241b0767.png","tv_点赞":"f85c354995bd99e28fc76c869bfe42ba6438eff4.png","tv_生气":"26702dcafdab5e8225b43ffd23c94ac1ff932654.png","tv_生病":"8b0ec90e6b86771092a498c54f09fc94621c1900.png","tv_疑问":"0793d949b18d7be716078349c202c15ff166f314.png","tv_白眼":"c1d59f439e379ee50eef488bcb5e5378e5044ea4.png","tv_皱眉":"72ccad6679fea0d14cce648b4d818e09b8ffea2d.png","tv_目瞪口呆":"0b8cb81a68de5d5365212c99375e7ace3e7891b7.png","tv_睡着":"8b196675b53af58264f383c50ad0945048290b33.png","tv_笑哭":"1abc628f6d4f4caf9d0e7800878f4697abbc8273.png","tv_腼腆":"89712c0d4af73e67f89e35cbc518420380a7f6f4.png","tv_色":"61822c7e9aae5da76475e7892534545336b23a6f.png","tv_调侃":"4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png","tv_调皮":"b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png","tv_鄙视":"6e72339f346a692a495b123174b49e4e8e781303.png","tv_闭嘴":"c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png","tv_难过":"87f46748d3f142ebc6586ff58860d0e2fc8263ba.png","tv_馋":"fc7e829b845c43c623c8b490ee3602b7f0e76a31.png","tv_鬼脸":"0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png","tv_黑人问号":"45821a01f51bc867da9edbaa2e070410819a95b2.png","tv_鼓掌":"1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"},requiredFields:["nick","mail"]})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="far fa-dot-circle"></i> &nbsp;本篇</div><div class="card"><a href="/zhe-teng-ji-lu-san/"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/medias/featureimages/29.jpg" class="responsive-img" alt="折腾记录（三）"> <span class="card-title">折腾记录（三）</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2022-07-12</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="post-category">服务器</a></span></div></div><div class="card-action article-tags"><a href="/tags/openwrt/"><span class="chip bg-color">openwrt</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/zhe-teng-ji-lu-er/"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/medias/featureimages/20.jpg" class="responsive-img" alt="折腾记录（二）"> <span class="card-title">折腾记录（二）</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2022-07-12</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E6%8A%98%E8%85%BE/" class="post-category">折腾</a></span></div></div><div class="card-action article-tags"><a href="/tags/nginx/"><span class="chip bg-color">nginx</span></a> <a href="/tags/cloudflare/"><span class="chip bg-color">cloudflare</span></a></div></div></div></div></article></div><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/codeBlock/codeBlockFuction.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/prism/prism.min.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/codeBlock/codeLang.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/codeBlock/codeCopy.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})</script><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2022</span> <a href="/about" target="_blank">Hairsky</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">14.1k</span><br><span id="sitetime"></span><br><br></div><div class="col s12 m4 l4 social-link"><a href="https://github.com/L2DO" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:784639311@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=784639311" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 784639311" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=36e5,t=24*e,o=new Date,i=o.getFullYear(),a=o.getMonth()+1,n=o.getDate(),r=o.getHours(),l=o.getMinutes(),s=o.getSeconds(),M=Date.UTC(2022,7,8,0,0,0),g=Date.UTC(i,a,n,r,l,s)-M,m=Math.floor(g/31536e6),T=Math.floor(g/t-365*m),f=Math.floor((g-(365*m+T)*t)/e),h=Math.floor((g-(365*m+T)*t-f*e)/6e4),u=Math.floor((g-(365*m+T)*t-f*e-6e4*h)/1e3);document.getElementById("sitetime").innerHTML="本站已运行 "+m+" 年 "+T+" 天 "+f+" 小时 "+h+" 分钟 "+u+" 秒"}siteTime()</script><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script>$(function(){!function(t,a,s){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),r=document.getElementById(a),n=document.getElementById(s);r.addEventListener("input",function(){var f='<ul class="search-result-list">',m=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var r=!0,n=t.title.trim().toLowerCase(),a=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),e=t.url;e=0===e.indexOf("/")?t.url:"/"+e;var s=-1,i=-1,l=-1;if(""!==n&&""!==a&&m.forEach(function(t,e){s=n.indexOf(t),i=a.indexOf(t),s<0&&i<0?r=!1:(i<0&&(i=0),0===e&&(l=i))}),r){f+="<li><a href='"+e+"' class='search-result-title'>"+n+"</a>";var c=t.content.trim().replace(/<[^>]+>/g,"");if(0<=l){var u=l-20,o=l+80;u<0&&(u=0),0===u&&(o=100),o>c.length&&(o=c.length);var h=c.substr(u,o);m.forEach(function(t){var e=new RegExp(t,"gi");h=h.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+h+"...</p>"}f+="</li>"}}),f+="</ul>",n.innerHTML=f)})}})}("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/materialize/materialize.min.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/masonry/masonry.pkgd.min.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/aos/aos.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/scrollprogress/scrollProgress.min.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/js/matery.js"></script><script>var st,OriginTitile=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="ヽ(●-`Д´-)ノ你要玩捉迷藏嘛",clearTimeout(st)):(document.title="(Ő∀Ő3)ノ好哦！",st=setTimeout(function(){document.title=OriginTitile},3e3))})</script><script src="https://ssl.captcha.qq.com/TCaptcha.js"></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/others/TencentCaptcha.js"></script><button id="TencentCaptcha" data-appid="2066481261" data-cbfn="callback" type="button" hidden></button><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/others/clicklove.js" async></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/background/ribbon-dynamic.js" async></script><script src="https://cdn.jsdelivr.net/gh/L2DO/L2DO.github.io/libs/instantpage/instantpage.js" type="module"></script></body></html>